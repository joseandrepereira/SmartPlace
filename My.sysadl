Model SysADLModel ; package SysADL.types { value type Int { } value type Boolean { } value type String { } value type Void { } value type Real { } } Requirement AutomatizarAmbienteFR ( 1 ) { text = "O sistema deve ser capaz de gerenciar o ambiente de forma automatizada por meio de sensores, aplicativos e painéis." } Requirement GerenciarLigarLuzFR ( 1.2.1 ) { text = "O sistema deve ligar as luzes do ambiente caso ele esteja vazio e chegue uma ou mais pessoas." derive MostrarStatusAmbienteFR.GerenciarLuzesFR ; } Requirement GerenciarDesligarLuzFR ( 1.2.2 ) { text = "O sistema deve desligar as luzes do ambiente caso não tenha pessoas dentro dele." derive MostrarStatusAmbienteFR.GerenciarLuzesFR ; } Requirement GerenciarLigarArCondicionadoFR ( 1.1.1 ) { text = "O sistema deve ligar o ar condicionado do ambiente caso ele esteja vazio e chegue alguém" derive MostrarStatusAmbienteFR.GerenciarTemperaturaFR ; } Requirement GerenciarDesligarArCondicionadoFR ( 1.1.2 ) { text = "O sistema deve desligar o ar condicionado caso não tenha pessoas no ambiente" derive MostrarStatusAmbienteFR.GerenciarTemperaturaFR ; } Requirement GerenciarNivelTemperaturaFR ( 1.1.3 ) { text = "O sistema deve ajustar a temperatura do ambiente para que ela fique de acordo com o dado coletado da temperatura desejada." derive MostrarStatusAmbienteFR.GerenciarTemperaturaFR ; } Requirement MostrarStatusAmbienteFR ( 1.4 ) { text = "O sistema deve mostrar o status do ambiente: mostrar estado das luzes, ar condicionados e quantidade de pessoas" Requirement ColetarTemperaturaDesejadaFR ( 1.1.3.2 ) { text = "O sistema deve coletar a temperatura desejada pelas pessoas do ambiente." derive GerenciarNivelTemperaturaFR ; } Requirement ColetarTemperaturaAmbienteFR ( 1.1.3.1 ) { text = "O sistema deve coletar a temperatura atual do ambiente." derive GerenciarNivelTemperaturaFR ; } Requirement ColetorNumPessoaFR ( 1.3 ) { text = "O sistema deve coletar o número de pessoas que estão no ambiente." derive GerenciarTemperaturaFR , GerenciarLuzesFR ; } Requirement GerenciarTemperaturaFR ( 1.1 ) { text = "O sistema deve ser capaz de gerenciar automaticamente a temperatura do ambiente." derive AutomatizarAmbienteFR ; } Requirement GerenciarLuzesFR ( 1.2 ) { text = "O sistema deve ser capaz de gerenciar as luzes automaticamente." derive AutomatizarAmbienteFR ; } } style IoTStyle { invariant checkSensorCP = "self.checkCPRecursive(self, \'SensorCP\')" invariant checkDataStoreCP = "self.checkCPRecursive(self, \'DataStoreCP\')" invariant checkDeviceCP = "self.checkCPRecursive(self, \'DeviceCP\')" invariant checkSensorOPT = "self.checkPTRecursive(self, \'SensorOPT\')" invariant checkActuatorIPT = "not (self.checkCPRecursive(self, \'ActuatorCP\') xor self.checkPTRecursive(self, \'ActuatorIPT\'))" invariant checkDataIPT = "self.checkPTRecursive(self, \'DataIPT\')" invariant checkDataOPT = "self.checkPTRecursive(self, \'DataOPT\')" invariant checkServiceOPT = "not (self.checkCPRecursive(self, \'GatewayCP\') xor self.checkPTRecursive(self, \'ServiceOPT\'))" invariant checkDeviceIPT = "not (self.checkCPRecursive(self, \'GatewayCP\') xor self.checkPTRecursive(self, \'DeviceIPT\'))" invariant checkSensorDataCN = "self.checkCNRecursive(self, \'SensorDataCN\')" invariant checkDataStoreCN = "self.checkCNRecursive(self, \'DataStoreCN\')" invariant checkActuatorCommandCN = "not (self.checkCPRecursive(self, \'ActuatorCP\') xor self.checkCNRecursive(self, \'ActuatorCommandCN\'))" invariant checkServiceCN = "not (self.checkCPRecursive(self, \'GatewayCP\') xor self.checkCNRecursive(self, \'ServiceCN\'))" invariant checkDeviceDataCN = "not (self.checkPTRecursive(self, \'DeviceOPT\') xor self.checkCNRecursive(self, \'DeviceDataCN\'))" invariant ControllerMustBeEmbeddedInDevice = "self.ControllerCPEmbedded(self)" invariant SensorMustBeConnectedToDeviceOrController = "self.SensorConnection(self)" invariant ActuatorMustBeConnectedToDeviceOrController = "self.ActuatorConnection(self)" invariant SensorAndActuatorDontCommunicate = "self.Communication(self)" invariant SensorDataCNMustNotBeMultiplex = "self.checkBindingsRecursive(self, \'SensorDataCN\')" invariant ActuatorCommandCNMustNotBeMultiplex = "self.checkBindingsRecursive(self, \'ActuatorCommandCN\')" invariant DeviceDataCNMustNotBeMultiplex = "self.checkBindingsRecursive(self, \'DeviceDataCN\')" abstract component def SensorCP [ 1 , -1 ] { ports : SensorOPT : out any [ 1 , -1 ] } abstract component def ActuatorCP [ 0 , -1 ] { ports : ActuatorIPT : in any [ 1 , -1 ] } abstract component def DeviceCP [ 1 , -1 ] { ports : DeviceOPT : out any [ 0 , -1 ] SensorIPT : in any [ 0 , -1 ] ActuatorOPT : out any [ 0 , -1 ] ServiceIPT : in any [ 0 , -1 ] compose { SensorCP , ActuatorCP , ControllerCP , GatewayCP , DataStoreCP } } abstract component def DataStoreCP [ 1 , -1 ] { ports : DataOPT : out any [ 1 , -1 ] DataIPT : in any [ 1 , -1 ] } abstract component def ControllerCP [ 0 , -1 ] { ports : SensorIPT : in any [ 0 , -1 ] ActuatorOPT : out any [ 0 , -1 ] } abstract component def GatewayCP [ 0 , -1 ] { ports : DeviceIPT : in any [ 1 , -1 ] ServiceOPT : out any [ 1 , -1 ] ServiceIPT : in any [ 0 , -1 ] compose { DataStoreCP } } abstract component def IoTARCH { compose { SensorCP , ActuatorCP , DeviceCP , GatewayCP , DataStoreCP } } abstract connector def SensorDataCN { participants : ~ SensorOPT : out any ~ SensorIPT : in any flows : flow SensorOPT to SensorIPT } abstract connector def ActuatorCommandCN { participants : ~ ActuatorOPT : out any ~ ActuatorIPT : in any flows : flow ActuatorOPT to ActuatorIPT } abstract connector def DeviceDataCN { participants : ~ DeviceOPT : out any ~ DeviceIPT : in any flows : flow DeviceOPT to DeviceIPT } abstract connector def DataStoreCN { participants : ~ DataOPT : out any ~ DataIPT : in any flows : flow DataOPT to DataIPT } abstract connector def ServiceCN { participants : ~ ServiceOPT : out any ~ ServiceIPT : in any flows : flow ServiceOPT to ServiceIPT } abstract activity def Monitoring abstract activity def Analysis abstract activity def Planning abstract activity def Execution }